entries:
  - context_delta:
      status:
        summary: >
          Seed entry: initialized orchestrator repo (amara-core).
        last_updated: 2025-08-26
      decisions:
        - date: 2025-08-26
          what: "Split into amara-core and amara-gateway."
          why: "Separate concerns for orchestration vs. gateway."
      next_actions:
        - who: me
          what: "Add schema validator and append helper"
          due: 2025-08-26
      risks:
        - "Accidental schema drift; mitigation: pre-commit validator"

  - context_delta:
      status:
        summary: >
          Test append entry via Makefile.
        last_updated: 2025-08-26
      decisions:
        - date: 2025-08-26
          what: "Validator accepted YAML dates"
          why: "PyYAML auto-converts ISO strings"
      next_actions:
        - who: me
          what: "Append a new test entry"
          due: 2025-08-26
        - who: assistant
          what: "Check that schema passes"
          due: 2025-08-26
      risks:
        - "None — test only"

  - context_delta:
      status:
        summary: >
          Invalid entry (missing risks). Kept for historical test purposes.
        last_updated: 2025-08-26
      decisions:
        - date: 2025-08-26
          what: "Bad entry for test"
          why: "Missing risks"
      next_actions:
        - who: me
          what: "This should fail schema"
          due: 2025-08-26
      risks:
        - "Schema intentionally broken in this entry for testing"

  - context_delta:
      status:
        summary: >
          Added a YAML-driven repo sync tool (sync_repos.py), an env/deps sanity checker,
          and an optional pretty logger for shell scripts. Sync is dry-run by default and
          writes an artifacts/sync.report.json.
        last_updated: 2025-08-26
      decisions:
        - date: 2025-08-26
          what: "Stage cross-repo documents into docs/context via an allowlist-defined sync tool."
          why: "Deterministic inputs for RAG; keeps history reviewable."
      next_actions:
        - who: me
          what: "Create docs/sources.yaml (or update), run `make sync` (dry), inspect artifacts/sync.report.json; then run with SYNC_DRY=0."
          due: 2025-08-27
        - who: me
          what: "Run `make env-check` before embeddings to avoid surprise failures."
          due: 2025-08-27
      risks:
        - "Over-inclusion of files; mitigation: strict allowlist + deny patterns, review sync.report.json before real copy."

  - context_delta:
      status:
        summary: >
          LiteLLM proxy stabilized (OpenAI-only), SSE-safe via NGINX, Authorization forwarded.
          Pipeline is green on master; tagged v0.1.0 as first healthy baseline.
        last_updated: 2025-09-28
      decisions:
        - date: 2025-09-28
          what: "Require master key auth for /api/llm/* proxied through NGINX"
          why: "Secure LiteLLM admin/control plane"
        - date: 2025-09-28
          what: "Disable Ollama until GPU/CPU runtime available"
          why: "Prevent 500s and container drift"
      next_actions:
        - who: assistant
          what: "Extend smoke tests to hit /api/llm/v1/chat/completions (streaming)"
          due: 2025-10-01
        - who: me
          what: "Tighten CORS to amara.bodyhigh.com"
          due: 2025-10-01
        - who: me
          what: "Add structured access logs & rotation under app_data/*"
          due: 2025-10-05
      risks:
        - "Need to revisit Ollama integration; GPU runtime missing"
        - "Future embedding updates must preserve guardrails (no recreate_collection)"

  - context_delta:
      status:
        summary: >
          Added `.env.example` with clear environment variables, updated README.md
          with "Environment Setup" section. Improves onboarding and ensures proxy
          key usage is documented. Repo state is green.
        last_updated: 2025-09-28
      decisions:
        - date: 2025-09-28
          what: "Track .env.example in repo (exception in .gitignore)."
          why: "Needed for onboarding while keeping real secrets untracked."
        - date: 2025-09-28
          what: "Add Environment Setup section in README."
          why: "Provide one-step onboarding instructions for new developers."
      next_actions:
        - who: me
          what: "Commit and push staged README.md and .env.example changes."
          due: 2025-09-29
        - who: assistant
          what: "Extend smoke tests to cover /api/llm/v1/chat/completions (streaming)."
          due: 2025-10-01
      risks:
        - "Developers may forget to regenerate LITELLM_PROXY_KEY if rolling secrets; mitigation: README points to openssl command."
  - context_delta:
      status:
        summary: >
          Introduced the Assessment Framework (assessments/, assessors/, meta-assessors/, prompts/, runbooks/).
          Seeded starter prompts and sprint close checklist. This establishes the process
          to run Assessment → Assessor → Meta-Assessor each sprint.
        last_updated: 2025-09-28

      decisions:
        - date: 2025-09-28
          what: Add Assessment Framework scaffolding to repo.
          why: Needed structured process to evaluate sprints and capture lessons systematically.

      next_actions:
        - who: me
          what: Commit scaffolded directories and seed prompts.
          due: 2025-09-28
        - who: assistant
          what: Stage Assessment, Assessor, and Meta-Assessor docs under new framework.
          due: 2025-09-28

      risks:
        - "Framework adds overhead; mitigation: keep Assessment prompts lightweight (strict format, markdown)."
        - "Possible divergence between amara-core and project-glidepath processes; mitigation: align prompts quarterly."
